import{c as m,j as e,C as j,l as C,B as M,Z as z,m as A,n as F}from"./index-Cwa0NEzn.js";import{r as c}from"./vendor-B8cRsngS.js";import{U as R,F as q,a as D}from"./users-qGDuvouU.js";import{S as O}from"./star-CFDfeEsZ.js";import"./firebase-D3F21gxB.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],$=m("credit-card",_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],U=m("dollar-sign",B);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],T=m("mail",L);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],J=m("message-square",H);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],N=m("phone",W),Q=({onBack:f})=>{const[t,x]=c.useState({senderName:"",senderEmail:"",senderPhone:"",paymentMethod:"",transactionId:"",paymentScreenshot:null,additionalNotes:""}),[p,g]=c.useState(100),[y,u]=c.useState(!1),[k,v]=c.useState(!1),[s,i]=c.useState({});c.useEffect(()=>{const a=localStorage.getItem("proRemainingSlots");a&&g(parseInt(a,10))},[]);const o=a=>{const{name:r,value:d}=a.target;x(l=>({...l,[r]:d})),s[r]&&i(l=>({...l,[r]:""}))},w=a=>{const r=a.target.files[0];if(r){if(!r.type.startsWith("image/")){i(d=>({...d,paymentScreenshot:"Please upload an image file"}));return}if(r.size>5*1024*1024){i(d=>({...d,paymentScreenshot:"File size must be less than 5MB"}));return}x(d=>({...d,paymentScreenshot:r})),i(d=>({...d,paymentScreenshot:""}))}},S=()=>{const a={};return t.senderName.trim()||(a.senderName="Name is required"),t.senderEmail.trim()?/\S+@\S+\.\S+/.test(t.senderEmail)||(a.senderEmail="Invalid email format"):a.senderEmail="Email is required",t.senderPhone.trim()||(a.senderPhone="Phone number is required"),t.paymentMethod||(a.paymentMethod="Payment method is required"),t.transactionId.trim()||(a.transactionId="Transaction ID is required"),t.paymentScreenshot||(a.paymentScreenshot="Payment screenshot is required"),i(a),Object.keys(a).length===0},P=async a=>{if(a.preventDefault(),!!S()){u(!0);try{let r=null;if(t.paymentScreenshot){const n=new FileReader;r=await new Promise(I=>{n.onload=()=>I(n.result),n.readAsDataURL(t.paymentScreenshot)})}const d={senderName:t.senderName,senderEmail:t.senderEmail,senderPhone:t.senderPhone,paymentMethod:t.paymentMethod,transactionId:t.transactionId,additionalNotes:t.additionalNotes,paymentScreenshot:r};let l,h;try{l=await fetch("/.netlify/functions/submit-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});try{h=await l.json()}catch(n){throw console.error("JSON parsing error:",n),console.error("Response status:",l.status),new Error("Server returned invalid response")}if(!l.ok&&h.error)throw new Error(h.error||"Failed to submit payment details")}catch(n){throw console.error("Fetch error:",n),n.message.includes("Failed to fetch")||n.message.includes("NetworkError")||n.message.includes("Server returned invalid response")||n.name==="TypeError"?(console.warn("Network/Server error detected - payment submission failed"),new Error("Unable to connect to payment service. Please try again later or contact support.")):n}const b=Math.max(0,p-1);g(b),localStorage.setItem("proRemainingSlots",b.toString()),v(!0),x({senderName:"",senderEmail:"",senderPhone:"",paymentMethod:"",transactionId:"",paymentScreenshot:null,additionalNotes:""})}catch(r){console.error("Submission error:",r),i({submit:`Failed to submit payment details: ${r.message}`})}finally{u(!1)}}},E=[{icon:M,text:"Access to all subject-specific chats"},{icon:J,text:"Unlimited conversations"},{icon:q,text:"File upload and sharing capabilities"},{icon:z,text:"Advanced AI features and tools"},{icon:O,text:"Priority support and updates"},{icon:j,text:"Enhanced learning experience"}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(j,{className:"w-12 h-12 text-purple-600 mr-3"}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"Upgrade to PRO Learning Experience"})]}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Unlock the full potential of your educational journey with our enhanced learning platform"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg p-4 mb-8 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(C,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-semibold",children:"Limited Time Offer!"})]}),e.jsxs("p",{className:"text-sm",children:["Special discounted price of ",e.jsx("strong",{children:"219 PKR"})," for our first 100 users only!"]}),e.jsxs("div",{className:"flex items-center justify-center mt-2",children:[e.jsx(R,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"text-sm font-medium",children:["Only ",p," spots remaining out of 100"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"What's Included in PRO?"}),e.jsx("div",{className:"space-y-4",children:E.map((a,r)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:e.jsx(a.icon,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:a.text})]},r))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Payment Instructions"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(U,{className:"w-6 h-6 text-green-600 mr-2"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:"219 PKR"})]}),e.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Special discounted price"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Choose Payment Method:"}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx($,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Meezan Bank"})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Account Holder:"})," Jhangir Hussain"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Number:"})," 99190110913188"]})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(N,{className:"w-5 h-5 text-purple-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"JazzCash"})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Account Holder:"})," Lareb"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Number:"})," 03282462642"]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(T,{className:"w-4 h-4 text-blue-600 mr-2"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"azkabloch786@gmail.com"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(N,{className:"w-4 h-4 text-green-600 mr-2"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"+923707874867 (WhatsApp)"})]})]})]})]})]})]}),e.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Submit Payment Details"}),k?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(A,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-green-600 mb-2",children:"Payment Submitted Successfully!"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Your payment details have been received. We'll verify your payment and activate your PRO access within 24 hours."}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"If you don't receive an update, please contact us at +923707874867 (WhatsApp)"})]}):e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Your Full Name *"}),e.jsx("input",{type:"text",name:"senderName",value:t.senderName,onChange:o,className:`w-full p-3 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${s.senderName?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter your full name"}),s.senderName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.senderName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",name:"senderEmail",value:t.senderEmail,onChange:o,className:`w-full p-3 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${s.senderEmail?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"your@email.com"}),s.senderEmail&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.senderEmail})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",name:"senderPhone",value:t.senderPhone,onChange:o,className:`w-full p-3 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${s.senderPhone?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"+92xxxxxxxxx"}),s.senderPhone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.senderPhone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method *"}),e.jsxs("select",{name:"paymentMethod",value:t.paymentMethod,onChange:o,className:`w-full p-3 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${s.paymentMethod?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[e.jsx("option",{value:"",children:"Select payment method"}),e.jsx("option",{value:"meezan_bank",children:"Meezan Bank"}),e.jsx("option",{value:"jazzcash",children:"JazzCash"})]}),s.paymentMethod&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.paymentMethod})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Transaction ID / Reference Number *"}),e.jsx("input",{type:"text",name:"transactionId",value:t.transactionId,onChange:o,className:`w-full p-3 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${s.transactionId?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter transaction ID from payment receipt"}),s.transactionId&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.transactionId})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Screenshot *"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-lg",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(D,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"flex text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("label",{className:"relative cursor-pointer rounded-md font-medium text-purple-600 hover:text-purple-500",children:[e.jsx("span",{children:"Upload a screenshot"}),e.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"sr-only"})]}),e.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]})}),t.paymentScreenshot&&e.jsxs("p",{className:"text-sm text-green-600 mt-2",children:["✓ ",t.paymentScreenshot.name]}),s.paymentScreenshot&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.paymentScreenshot})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Additional Notes (Optional)"}),e.jsx("textarea",{name:"additionalNotes",value:t.additionalNotes,onChange:o,rows:3,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Any additional information..."})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",disabled:y,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold rounded-lg shadow-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:y?e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"w-5 h-5 mr-2 animate-spin"}),"Submitting..."]}):"Submit Payment Details"})}),s.submit&&e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-red-500 text-sm",children:s.submit})})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx("button",{onClick:f,className:"px-6 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"← Back to Learning Dashboard"})})]})})};export{Q as default};
