import{c as re,C as ae,b as se,j as e,u as z,Z as le,d as $,e as E,f as S,O as ie}from"./index-Cwa0NEzn.js";import{r as c}from"./vendor-B8cRsngS.js";import{B as oe,m as O,D as V,E as H,H as q,n as de,I as ne,J as ce}from"./firebase-D3F21gxB.js";import{S as xe}from"./star-CFDfeEsZ.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],he=re("arrow-right",me),ue=({tier:t="Advanced",size:a="sm",className:n="",position:i="inline",showIcon:m=!0,interactive:h=!1,onClick:s=null})=>{const b={xs:"px-1.5 py-0.5 text-xs",sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-base"},j={xs:"w-3 h-3",sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"},u={"top-right":"absolute -top-2 -right-2 z-20","top-left":"absolute -top-2 -left-2 z-20","bottom-right":"absolute -bottom-2 -right-2 z-20","bottom-left":"absolute -bottom-2 -left-2 z-20",inline:"relative z-10"},p={Advanced:{gradient:"from-blue-500 to-cyan-600",icon:se,title:"Advanced Mode - Free tier with General chat access"},PRO:{gradient:"pro-gradient-primary",icon:ae,title:"PRO Mode - Premium subscription with full features"}},o=p[t]||p.Advanced,d=o.icon,g=`
    ${u[i]} 
    ${o.gradient.startsWith("pro-")?o.gradient:`bg-gradient-to-r ${o.gradient}`} 
    text-white font-semibold rounded-full 
    ${b[a]} 
    ${h?"cursor-pointer hover:scale-105 transition-transform duration-200":""}
    ${n}
  `,w=f=>{h&&s&&(f.preventDefault(),s(t))};return e.jsxs("span",{className:g.trim(),title:o.title,onClick:w,role:h?"button":void 0,tabIndex:h?0:void 0,onKeyDown:h?f=>{(f.key==="Enter"||f.key===" ")&&w(f)}:void 0,children:[m&&e.jsx(d,{className:`${j[a]} mr-1 inline`}),t]})},ge=({showUpgradePrompt:t=!0,onUpgrade:a=null})=>{const n=z.getCurrentTier(),i=()=>{a?a():(z.upgradeToPRO(),window.location.reload())};return e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ue,{tier:n.name,size:"md"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.displayName}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:n.price})]})]}),t&&n.name==="Advanced"&&e.jsxs("button",{onClick:i,className:"flex items-center space-x-1 px-3 py-2 pro-gradient-primary text-white text-xs font-medium rounded-md hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:[e.jsx(le,{className:"w-3 h-3"}),e.jsx("span",{children:"Upgrade to PRO"}),e.jsx(he,{className:"w-3 h-3"})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{className:"w-3 h-3 text-yellow-500"}),e.jsx("span",{children:n.name==="PRO"?"Full access to all subjects, file uploads, and advanced features":"General chat mode with unlimited messaging"})]})})})]})},ye=({size:t="md",animated:a=!0,className:n=""})=>{const[i,m]=c.useState(!1),[h,s]=c.useState(!1),b={xs:"w-6 h-6",sm:"w-8 h-8",md:"w-16 h-16",lg:"w-20 h-20",xl:"w-24 h-24"},j={xs:"8",sm:"10",md:"16",lg:"20",xl:"24"};return c.useEffect(()=>{if(!a)return;const u=setInterval(()=>{m(!0),setTimeout(()=>m(!1),150)},Math.random()*4e3+2e3),p=setInterval(()=>{s(!0),setTimeout(()=>s(!1),1e3)},Math.random()*8e3+5e3);return()=>{clearInterval(u),clearInterval(p)}},[a]),e.jsxs("div",{className:`relative ${b[t]} ${n} flex items-center justify-center bg-gradient-to-br from-amber-100 to-orange-100 dark:from-amber-800 dark:to-orange-800 rounded-full overflow-hidden border-2 border-amber-200 dark:border-amber-600 shadow-lg`,style:{background:"linear-gradient(135deg, #fef3c7 0%, #fed7aa 50%, #fbbf24 100%)"},children:[a&&e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-1 left-2 w-1 h-1 bg-yellow-300 rounded-full animate-pulse",style:{animationDelay:"0s",animationDuration:"2s"}}),e.jsx("div",{className:"absolute top-2 right-1 w-0.5 h-0.5 bg-white rounded-full animate-pulse",style:{animationDelay:"0.5s",animationDuration:"1.5s"}}),e.jsx("div",{className:"absolute bottom-2 left-1 w-0.5 h-0.5 bg-yellow-200 rounded-full animate-pulse",style:{animationDelay:"1s",animationDuration:"2.5s"}})]}),e.jsxs("svg",{viewBox:"0 0 64 64",className:`w-full h-full transform ${a?"transition-transform duration-300 hover:scale-110":""}`,xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("ellipse",{cx:"32",cy:"40",rx:"18",ry:"20",fill:"#8B4513",stroke:"#654321",strokeWidth:"1"}),e.jsx("circle",{cx:"32",cy:"26",r:"16",fill:"#A0522D",stroke:"#654321",strokeWidth:"1"}),e.jsx("path",{d:"M20 18 Q18 12 22 16",fill:"#8B4513",stroke:"#654321",strokeWidth:"0.5"}),e.jsx("path",{d:"M44 18 Q46 12 42 16",fill:"#8B4513",stroke:"#654321",strokeWidth:"0.5"}),e.jsx("circle",{cx:"27",cy:"24",r:"5",fill:"white",stroke:"#333",strokeWidth:"1"}),e.jsx("circle",{cx:"37",cy:"24",r:"5",fill:"white",stroke:"#333",strokeWidth:"1"}),e.jsx("circle",{cx:"27",cy:"24",r:i?"0.5":"3",fill:"#1a1a1a",className:a?"transition-all duration-150":""}),e.jsx("circle",{cx:"37",cy:"24",r:i?"0.5":"3",fill:"#1a1a1a",className:a?"transition-all duration-150":""}),e.jsx("circle",{cx:"28",cy:"22",r:"1",fill:"white",opacity:"0.8"}),e.jsx("circle",{cx:"38",cy:"22",r:"1",fill:"white",opacity:"0.8"}),e.jsx("path",{d:"M32 28 L30 32 L34 32 Z",fill:"#FFA500",stroke:"#FF8C00",strokeWidth:"0.5"}),e.jsx("ellipse",{cx:"22",cy:"35",rx:"6",ry:"12",fill:"#8B4513",stroke:"#654321",strokeWidth:"1",transform:"rotate(-15 22 35)"}),e.jsx("ellipse",{cx:"42",cy:"35",rx:"6",ry:"12",fill:"#8B4513",stroke:"#654321",strokeWidth:"1",transform:"rotate(15 42 35)"}),e.jsx("path",{d:"M22 30 Q18 35 22 40",fill:"#654321",strokeWidth:"0.5"}),e.jsx("path",{d:"M42 30 Q46 35 42 40",fill:"#654321",strokeWidth:"0.5"}),e.jsx("ellipse",{cx:"32",cy:"38",rx:"8",ry:"10",fill:"#CD853F",opacity:"0.7"}),e.jsx("path",{d:"M28 35 Q32 38 36 35",stroke:"#654321",strokeWidth:"0.5",fill:"none"}),e.jsx("path",{d:"M28 40 Q32 43 36 40",stroke:"#654321",strokeWidth:"0.5",fill:"none"}),e.jsx("ellipse",{cx:"28",cy:"58",rx:"3",ry:"2",fill:"#FFA500"}),e.jsx("ellipse",{cx:"36",cy:"58",rx:"3",ry:"2",fill:"#FFA500"}),e.jsx("rect",{x:"22",y:"12",width:"20",height:"4",rx:"2",fill:"#1a1a1a"}),e.jsx("rect",{x:"20",y:"16",width:"24",height:"2",rx:"1",fill:"#1a1a1a"}),e.jsx("line",{x1:"38",y1:"16",x2:"42",y2:"22",stroke:"#FFD700",strokeWidth:"2"}),e.jsx("circle",{cx:"42",cy:"22",r:"1.5",fill:"#FFD700"}),e.jsxs("g",{className:h&&a?"animate-pulse":"",children:[e.jsx("line",{x1:"12",y1:"45",x2:12+parseInt(j[t]),y2:"40",stroke:"#8B4513",strokeWidth:"2",strokeLinecap:"round",transform:h&&a?"rotate(15 16 42)":"",className:a?"transition-transform duration-500":""}),e.jsxs("g",{transform:`translate(${12+parseInt(j[t])}, 40) ${h&&a?"rotate(15)":""}`,className:a?"transition-transform duration-500":"",children:[e.jsx("path",{d:"M0,-3 L1,0 L3,0 L1,1 L1,3 L0,1 L-1,3 L-1,1 L-3,0 L-1,0 Z",fill:"#FFD700",stroke:"#FFA500",strokeWidth:"0.5"}),a&&e.jsxs(e.Fragment,{children:[e.jsx("circle",{cx:"-2",cy:"-2",r:"0.5",fill:"#FFD700",opacity:"0.8",className:"animate-ping",style:{animationDuration:"1.5s"}}),e.jsx("circle",{cx:"2",cy:"1",r:"0.3",fill:"#FFF",opacity:"0.6",className:"animate-pulse",style:{animationDelay:"0.3s"}}),e.jsx("circle",{cx:"-1",cy:"2",r:"0.4",fill:"#FFD700",opacity:"0.7",className:"animate-ping",style:{animationDelay:"0.7s",animationDuration:"2s"}})]})]})]}),e.jsx("circle",{cx:"27",cy:"24",r:"6",fill:"none",stroke:"#333",strokeWidth:"1",opacity:"0.3"}),e.jsx("circle",{cx:"37",cy:"24",r:"6",fill:"none",stroke:"#333",strokeWidth:"1",opacity:"0.3"}),e.jsx("line",{x1:"33",y1:"24",x2:"31",y2:"24",stroke:"#333",strokeWidth:"1",opacity:"0.3"}),e.jsxs("g",{opacity:"0.8",children:[e.jsx("rect",{x:"45",y:"38",width:"8",height:"12",rx:"1",fill:"#F5F5DC",stroke:"#DDD",strokeWidth:"0.5"}),e.jsx("line",{x1:"47",y1:"41",x2:"51",y2:"41",stroke:"#333",strokeWidth:"0.3"}),e.jsx("line",{x1:"47",y1:"43",x2:"51",y2:"43",stroke:"#333",strokeWidth:"0.3"}),e.jsx("line",{x1:"47",y1:"45",x2:"49",y2:"45",stroke:"#333",strokeWidth:"0.3"})]})]}),a&&e.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-1 h-1 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"1s",animationDuration:"3s"}}),e.jsx("div",{className:"absolute top-1/4 right-1/4 w-0.5 h-0.5 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"2s",animationDuration:"2.5s"}})]})]})},pe=t=>{try{return require("crypto-js/md5")(t).toString()}catch{return console.warn("crypto-js not available, using fallback"),btoa(t).replace(/[^a-zA-Z0-9]/g,"").toLowerCase().substring(0,32)}},fe=({user:t,size:a="md",showHoverEffect:n=!0,animated:i=!0,className:m="",fallbackToOwl:h=!0,onClick:s=null})=>{const[b,j]=c.useState(""),[u,p]=c.useState(!1),[o,d]=c.useState(!0),g={xs:"w-6 h-6",sm:"w-8 h-8",md:"w-16 h-16",lg:"w-20 h-20",xl:"w-24 h-24"},w=n?"hover:scale-110 hover:shadow-lg transform transition-all duration-300 cursor-pointer":"";c.useEffect(()=>{if(t?.email){const x=t.email.toLowerCase().trim(),P=`https://www.gravatar.com/avatar/${pe(x).toString()}?s=200&d=404`;j(P),d(!0),p(!1)}},[t?.email]);const f=()=>{d(!1),p(!1)},v=()=>{d(!1),p(!0)};return t?.photoURL&&!u?e.jsxs("div",{className:`relative ${g[a]} ${w} ${m}`,onClick:s,role:s?"button":void 0,tabIndex:s?0:void 0,onKeyDown:s?x=>{(x.key==="Enter"||x.key===" ")&&s(x)}:void 0,children:[e.jsx("img",{src:t.photoURL,alt:`${t.displayName||t.email||"User"}'s profile`,className:`${g[a]} rounded-full object-cover border-2 border-blue-200 dark:border-blue-600 shadow-md`,onError:()=>p(!0)}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 border-2 border-white dark:border-gray-800 rounded-full animate-pulse"})]}):b&&!u&&!o?e.jsxs("div",{className:`relative ${g[a]} ${w} ${m}`,onClick:s,role:s?"button":void 0,tabIndex:s?0:void 0,onKeyDown:s?x=>{(x.key==="Enter"||x.key===" ")&&s(x)}:void 0,children:[e.jsx("img",{src:b,alt:`${t?.displayName||t?.email||"User"}'s Gravatar`,className:`${g[a]} rounded-full object-cover border-2 border-purple-200 dark:border-purple-600 shadow-md`,onLoad:f,onError:v}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-purple-400 border-2 border-white dark:border-gray-800 rounded-full",title:"Gravatar profile picture"})]}):b&&o?e.jsxs("div",{className:`relative ${g[a]} ${m}`,children:[e.jsx("div",{className:`${g[a]} rounded-full bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 animate-pulse flex items-center justify-center border-2 border-gray-300 dark:border-gray-600`,children:e.jsx("div",{className:"w-1/2 h-1/2 bg-gray-400 dark:bg-gray-500 rounded-full animate-pulse"})}),e.jsx("img",{src:b,alt:"",className:"hidden",onLoad:f,onError:v})]}):h?e.jsxs("div",{className:`relative ${w} ${m}`,onClick:s,role:s?"button":void 0,tabIndex:s?0:void 0,onKeyDown:s?x=>{(x.key==="Enter"||x.key===" ")&&s(x)}:void 0,title:`${t?.displayName||t?.email||"User"}'s profile - Educator Owl`,children:[e.jsx(ye,{size:a,animated:i}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-gradient-to-br from-yellow-400 to-orange-400 border-2 border-white dark:border-gray-800 rounded-full animate-pulse",title:"ECC Educator Mascot"})]}):e.jsxs("div",{className:`relative ${g[a]} ${w} ${m}`,onClick:s,role:s?"button":void 0,tabIndex:s?0:void 0,onKeyDown:s?x=>{(x.key==="Enter"||x.key===" ")&&s(x)}:void 0,children:[e.jsx("div",{className:`${g[a]} bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 rounded-full flex items-center justify-center border-2 border-gray-400 dark:border-gray-600 shadow-md`,children:e.jsx("svg",{className:"w-1/2 h-1/2 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-gray-400 border-2 border-white dark:border-gray-800 rounded-full"})]})},ke=({user:t,onBack:a,onSuccess:n,onError:i})=>{const[m,h]=c.useState(!1),[s,b]=c.useState(!1),[j,u]=c.useState(""),[p,o]=c.useState(""),[d,g]=c.useState({displayName:t?.displayName||"",email:t?.email||"",photoURL:t?.photoURL||""}),[w,f]=c.useState(!1),[v,x]=c.useState(""),[N,P]=c.useState(!1),[G,T]=c.useState(!1),[D,A]=c.useState(""),[I,C]=c.useState(!1),[L,M]=c.useState(""),[F,k]=c.useState(!1),K=()=>d.displayName.trim()?d.displayName.length<2?(o("Display name must be at least 2 characters"),!1):d.displayName.length>50?(o("Display name must be less than 50 characters"),!1):!0:(o("Display name is required"),!1),Q=c.useCallback(async()=>{if(K()){b(!0),u(""),o("");try{await oe($.currentUser,{displayName:d.displayName,photoURL:d.photoURL});const r=E(),l=O(S,`artifacts/${r}/users/${t.uid}`);await V(l,{uid:t.uid,email:t.email,displayName:d.displayName,photoURL:d.photoURL,updatedAt:new Date,createdAt:new Date},{merge:!0}),n?n("Profile updated successfully!"):u("Profile updated successfully!"),h(!1),n||setTimeout(()=>u(""),3e3)}catch(r){console.error("Error updating profile:",r);const l="Failed to update profile. Please try again.";i?i(l):o(l)}finally{b(!1)}}},[d,n,i,t]),Z=()=>{g({displayName:t?.displayName||"",email:t?.email||"",photoURL:t?.photoURL||""}),h(!1),o(""),u(""),M(""),k(!1)},Y=c.useCallback(async()=>{if(!v){const r="Please enter your password to confirm account deletion.";i?i(r):o(r);return}P(!0),u(""),o("");try{const r=$.currentUser,l=H.credential(r.email,v);await q(r,l);const y=E(),W=O(S,`artifacts/${y}/users/${r.uid}`);await de(W),await ne(r);const B="Account deleted successfully. You will be redirected shortly.";n?n(B):u(B),f(!1),setTimeout(()=>{window.location.href="/"},2e3)}catch(r){console.error("Error deleting account:",r);let l;r.code==="auth/wrong-password"?l="Incorrect password. Please try again.":r.code==="auth/requires-recent-login"?l="Please log out and log back in before deleting your account.":l="Failed to delete account. Please try again.",i?i(l):o(l)}finally{P(!1)}},[v,i,n,t]),J=()=>{f(!1),x(""),o("")},R=async r=>{if(!L){const l="Please enter your current password to change email.";return i?i(l):o(l),!1}C(!0);try{const l=H.credential(t.email,L);return await q($.currentUser,l),await U(r)}catch(l){console.error("Error verifying current password:",l);let y;return l.code==="auth/wrong-password"?y="Current password is incorrect. Please try again.":l.code==="auth/too-many-requests"?y="Too many failed attempts. Please try again later.":y="Failed to verify current password. Please try again.",i?i(y):o(y),!1}finally{C(!1)}},U=async r=>{try{if(!(await fetch("/.netlify/functions/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r})})).ok)throw new Error("Failed to send OTP");return A(r),T(!0),k(!1),!0}catch(l){console.error("Error sending OTP:",l);const y="Failed to send OTP. Please try again.";return i?i(y):o(y),!1}},_=async()=>{C(!0);try{await ce($.currentUser,D),g(W=>({...W,email:D}));const r=E(),l=O(S,`artifacts/${r}/users/${t.uid}`);await V(l,{email:D,updatedAt:new Date},{merge:!0});const y="Email updated successfully! Your new email address has been verified.";n?n(y):u(y),T(!1),A(""),M(""),k(!1),h(!1),n||setTimeout(()=>u(""),3e3)}catch(r){console.error("Error updating email:",r);const l="Failed to update email. Please try again.";i?i(l):o(l)}finally{C(!1)}},X=r=>{i?i(r):o(r)},ee=()=>{T(!1),A(""),k(!0)},te=async()=>U(D);return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"w-full px-8 py-8",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"My Profile"}),e.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"← Back"})]}),j&&e.jsx("div",{className:"bg-green-100 dark:bg-green-900/20 border border-green-400 dark:border-green-800 text-green-700 dark:text-green-300 px-4 py-3 rounded mb-6",children:j}),p&&e.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded mb-6",children:p}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(fe,{user:t,size:"lg",showHoverEffect:!0,animated:!0,fallbackToOwl:!0}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full p-1.5 shadow-lg",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t?.displayName||"User"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t?.email}),e.jsx("div",{className:"flex items-center mt-2",children:e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Email Verified"]})})]})]}),e.jsxs("div",{className:"flex justify-end mb-4",children:[!m&&e.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),e.jsx("span",{children:"Edit Profile"})]}),m&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:Q,disabled:s,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s&&e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:s?"Saving...":"Save"})]}),e.jsx("button",{onClick:Z,disabled:s,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Account Tier"}),e.jsx(ge,{showUpgradePrompt:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Name"}),e.jsx("input",{type:"text",value:d.displayName,onChange:r=>g({...d,displayName:r.target.value}),disabled:!m,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"email",value:d.email,onChange:r=>g({...d,email:r.target.value}),disabled:!m,className:"flex-1 p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"}),m&&d.email!==t?.email&&e.jsxs("button",{onClick:()=>{F?R(d.email):k(!0)},disabled:I||!d.email,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[I&&e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:I?"Verifying...":F?"Send OTP":"Change Email"})]})]}),m&&d.email!==t?.email&&!F&&e.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400 mt-2",children:"📧 Email change requires current password and OTP verification"}),m&&d.email!==t?.email&&F&&e.jsxs("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("label",{className:"block text-sm font-medium text-blue-900 dark:text-blue-300 mb-2",children:"🔒 Enter current password to verify email change"}),e.jsx("input",{type:"password",value:L,onChange:r=>M(r.target.value),placeholder:"Enter your current password",className:"w-full p-2 border border-blue-300 dark:border-blue-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyDown:r=>{r.key==="Enter"&&L&&R(d.email)}}),e.jsx("div",{className:"flex justify-end space-x-2 mt-2",children:e.jsx("button",{onClick:()=>{k(!1),M("")},className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"})})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Security"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Add an extra layer of security to your account"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:"Coming Soon"}),e.jsx("button",{disabled:!0,className:"px-3 py-1 text-sm bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 rounded cursor-not-allowed",children:"Enable 2FA"})]})]})}),e.jsx("div",{className:"mt-4 bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Last changed: Unknown"})]}),e.jsx("button",{disabled:!0,className:"px-3 py-1 text-sm bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 rounded cursor-not-allowed",children:"Change Password"})]})})]}),e.jsxs("div",{className:"border-t border-red-200 dark:border-red-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-900 dark:text-white mb-4",children:"Delete Account"}),e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-red-500 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-red-800 dark:text-red-200 font-medium",children:"Danger Zone"}),e.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm mt-1",children:"Once you delete your account, there is no going back. Please be certain."})]})]})}),e.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),e.jsx("span",{children:"Delete Account"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Account Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"--"}),e.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Content Generated"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:"--"}),e.jsx("div",{className:"text-sm text-green-800 dark:text-green-200",children:"Days Active"})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:"Basic"}),e.jsx("div",{className:"text-sm text-purple-800 dark:text-purple-200",children:"Account Tier"})]})]})]})]})]})}),G&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full",children:e.jsx(ie,{email:D,onVerified:_,onBack:ee,onError:X,onResendOTP:te})})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.988-.833-2.728 0L4.086 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsx("h3",{className:"text-lg font-semibold text-red-900 dark:text-white",children:"Confirm Account Deletion"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-3 mb-4",children:[e.jsx("h4",{className:"font-medium text-red-800 dark:text-red-200 mb-2",children:"This will delete:"}),e.jsxs("ul",{className:"text-sm text-red-700 dark:text-red-300 space-y-1",children:[e.jsx("li",{children:"• Your profile and account settings"}),e.jsx("li",{children:"• All your generated content"}),e.jsx("li",{children:"• Chat history and conversations"}),e.jsx("li",{children:"• Preferences and customizations"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Please enter your password to confirm:"}),e.jsx("input",{type:"password",value:v,onChange:r=>x(r.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter your password"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:J,disabled:N,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors disabled:opacity-50",children:"Cancel"}),e.jsxs("button",{onClick:Y,disabled:N||!v,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[N&&e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:N?"Deleting...":"Delete Account"})]})]})]})})]})};export{ke as default};
